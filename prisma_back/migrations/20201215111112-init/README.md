# Migration `20201215111112-init`

This migration has been generated by sesia at 12/15/2020, 8:11:12 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `OverWork` DROP FOREIGN KEY `OverWork_ibfk_1`

ALTER TABLE `Comment` DROP COLUMN `text`,
    ADD COLUMN     `content` VARCHAR(191) NOT NULL

ALTER TABLE `OverWork` DROP COLUMN `authorId`,
    ADD COLUMN     `workingTime` VARCHAR(191) NOT NULL,
    ADD COLUMN     `overWorkAuthorId` INT NOT NULL

ALTER TABLE `Post` DROP COLUMN `text`,
    ADD COLUMN     `content` VARCHAR(191),
    MODIFY `postCategory` ENUM('JOB', 'REPAIR', 'ETC') NOT NULL

ALTER TABLE `OverWork` ADD FOREIGN KEY (`overWorkAuthorId`) REFERENCES `User`(`id`) ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201215082359-init..20201215111112-init
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "mysql"
-  url = "***"
+  url = "***"
 }
 model User {
   id              Int             @id @default(autoincrement())
@@ -29,9 +29,9 @@
   id           Int          @id @default(autoincrement())
   createdAt    DateTime     @default(now())
   updatedAt    DateTime     @updatedAt
   title        String
-  text         String?
+  content      String?
   postCategory PostCategory
   comments     Comment[]
   likes        Like[]
   postAuthor   User         @relation(fields: [postAuthorId], references: [id])
@@ -40,9 +40,9 @@
 }
 model Comment {
   id              Int      @id @default(autoincrement())
-  text            String
+  content         String
   post            Post     @relation(fields: [postId], references: [id])
   postId          Int
   commentAuthor   User     @relation(fields: [commentAuthorId], references: [id])
   commentAuthorId Int
@@ -77,14 +77,15 @@
   date             DateTime?
   yearMonth        String?
   yearMonthDay     String?
   week             Int
+  workingTime      String
   location         String
   content          String
   overWorkCategory OverWorkCategory
   amount           Int
-  author           User             @relation(fields: [authorId], references: [id])
-  authorId         Int
+  overWorkAuthor   User             @relation(fields: [overWorkAuthorId], references: [id])
+  overWorkAuthorId         Int
   createdAt        DateTime         @default(now())
   updatedAt        DateTime         @updatedAt
 }
```


