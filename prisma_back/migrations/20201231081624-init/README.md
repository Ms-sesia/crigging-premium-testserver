# Migration `20201231081624-init`

This migration has been generated by sesia at 12/31/2020, 5:16:24 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `Post` MODIFY `postCategory` ENUM('JOB', 'REPAIR', 'ETC') NOT NULL

ALTER TABLE `craneDataRecord` ADD COLUMN     `riggingIndex` INT NOT NULL
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201231073420-init..20201231081624-init
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "mysql"
-  url = "***"
+  url = "***"
 }
 model User {
   id              Int               @id @default(autoincrement())
@@ -62,8 +62,9 @@
 model craneDataRecord {
   id             Int         @id @default(autoincrement())
   createdAt      DateTime    @default(now())
+  riggingIndex   Int
   craneName      String?
   craneCode      String?
   craneModeName  String?
   excelSheetName String?
@@ -73,9 +74,9 @@
   userId         Int?
 }
 model RiggingData {
-  id                      Int          @id @default(autoincrement())
+  id                      Int               @id @default(autoincrement())
   mainBoom                Int
   mainAngle               Int
   totalExtLength          Int
   adapter1                Int
@@ -88,9 +89,9 @@
   flyFixLuffingAngle      Int
   distance1               Int
   distance2               Int
   craneDistance           Int
-  edgeDistance            EdgeDistance @relation(fields: [edgeDistanceId], references: [id])
+  edgeDistance            EdgeDistance      @relation(fields: [edgeDistanceId], references: [id])
   edgeDistanceId          Int
   centerToBlockDistance   Int
   craneToBuildingDistance Int
   craneToBlockDistance    Int
@@ -107,37 +108,41 @@
   optional                String
   safetyFactor            Int
   craneLocation           String
   workWeight              Int
-  workBuilding            WorkBuilding @relation(fields: [workBuildingId], references: [id])
+  workBuilding            WorkBuilding      @relation(fields: [workBuildingId], references: [id])
   workBuildingId          Int
-  block                   Block        @relation(fields: [blockId], references: [id])
+  block                   Block             @relation(fields: [blockId], references: [id])
   blockId                 Int
+  craneDataRecord         craneDataRecord[]
 }
 model EdgeDistance {
-  id                       Int @id @default(autoincrement())
+  id                       Int           @id @default(autoincrement())
   mainToBlock              Int
   mainToBuilding           Int
   flyFixLuffingToBlock     Int
   flyFixLuffingToBuilding  Int
   centerToBuildingDistance Int
+  RiggingData              RiggingData[]
 }
 model WorkBuilding {
-  id         Int @id @default(autoincrement())
-  horizontal Int
-  vertical   Int
-  height     Int
+  id          Int           @id @default(autoincrement())
+  horizontal  Int
+  vertical    Int
+  height      Int
+  RiggingData RiggingData[]
 }
 model Block {
-  id          Int @id @default(autoincrement())
+  id          Int           @id @default(autoincrement())
   vertical1   Int
   horizontal1 Int
   height1     Int
   vertical2   Int
   height2     Int
+  RiggingData RiggingData[]
 }
 model OverWork {
   id               Int              @id @default(autoincrement())
```


