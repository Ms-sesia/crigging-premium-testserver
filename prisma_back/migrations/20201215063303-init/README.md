# Migration `20201215063303-init`

This migration has been generated by sesia at 12/15/2020, 3:33:03 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `Comment` ALTER COLUMN `updatedAt` DROP DEFAULT

ALTER TABLE `File` ADD COLUMN     `createdAt` DATETIME(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
    ADD COLUMN     `updatedAt` DATETIME(3) NOT NULL

ALTER TABLE `Post` MODIFY `postCategory` ENUM('JOB', 'REPAIR', 'ETC') NOT NULL
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201215053127-init..20201215063303-init
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "mysql"
-  url = "***"
+  url = "***"
 }
 model User {
   id              Int             @id @default(autoincrement())
@@ -46,9 +46,9 @@
   postId          Int
   commentAuthor   User     @relation(fields: [commentAuthorId], references: [id])
   commentAuthorId Int
   createdAt       DateTime @default(now())
-  updatedAt       DateTime @default(now())
+  updatedAt       DateTime @updatedAt
 }
 model Like {
   id        Int      @id @default(autoincrement())
@@ -88,12 +88,14 @@
   updatedAt        DateTime         @updatedAt
 }
 model File {
-  id     Int    @id @default(autoincrement())
-  url    String
-  post   Post?  @relation(fields: [postId], references: [id])
-  postId Int?
+  id        Int      @id @default(autoincrement())
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+  url       String
+  post      Post?    @relation(fields: [postId], references: [id])
+  postId    Int?
 }
 enum PostCategory {
   JOB
```


