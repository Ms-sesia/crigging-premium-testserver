# Migration `20201210052948-init`

This migration has been generated by sesia at 12/10/2020, 2:29:48 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `RiggingRecord` (
    `id` INT NOT NULL AUTO_INCREMENT,
    `createdAt` DATETIME(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
    `craneName` VARCHAR(191),
    `craneCode` VARCHAR(191),
    `craneModeName` VARCHAR(191),
    `excelSheetName` VARCHAR(191),
    `riggingData` VARCHAR(191),
    `userId` INT,

    PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

ALTER TABLE `RiggingRecord` ADD FOREIGN KEY (`userId`) REFERENCES `User`(`id`) ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201209115301-init..20201210052948-init
--- datamodel.dml
+++ datamodel.dml
@@ -3,26 +3,27 @@
 }
 datasource db {
   provider = "mysql"
-  url = "***"
+  url = "***"
 }
 model User {
-  id              Int        @id @default(autoincrement())
-  createdAt       DateTime   @default(now())
-  updatedAt       DateTime   @default(now())
-  name            String     @unique
-  email           String     @unique
-  phoneNumber     String     @unique
+  id              Int             @id @default(autoincrement())
+  createdAt       DateTime        @default(now())
+  updatedAt       DateTime        @default(now())
+  name            String          @unique
+  email           String          @unique
+  phoneNumber     String          @unique
   loginSecretCode String?
-  avatar          String     @default(value: "")
+  avatar          String          @default(value: "")
   posts           Post[]
   comments        Comment[]
   likes           Like[]
+  riggingRecord   RiggingRecord[]
   overWorks       OverWork[]
-  following       User[]     @relation("FollowRelation", references: [id])
-  followers       User[]     @relation("FollowRelation", references: [id])
+  following       User[]          @relation("FollowRelation", references: [id])
+  followers       User[]          @relation("FollowRelation", references: [id])
 }
 model Post {
   id           Int          @id @default(autoincrement())
@@ -54,8 +55,20 @@
   userId Int?
   postId Int
 }
+model RiggingRecord {
+  id             Int      @id @default(autoincrement())
+  createdAt      DateTime @default(now())
+  craneName      String?
+  craneCode      String?
+  craneModeName  String?
+  excelSheetName String?
+  riggingData    String?
+  User           User?    @relation(fields: [userId], references: [id])
+  userId         Int?
+}
+
 model OverWork {
   id               Int              @id @default(autoincrement())
   date             DateTime?
   yearMonth        String?
```


